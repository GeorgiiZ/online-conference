(function(e){function t(t){for(var a,r,c=t[0],o=t[1],u=t[2],l=0,f=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);p&&p(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var o=n[c];0!==s[o]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/online-conference/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"023f":function(e,t,n){"use strict";var a=n("9594"),s=n.n(a);s.a},1:function(e,t){},1412:function(e,t,n){e.exports=n.p+"img/participant.085009d4.jpg"},1495:function(e,t,n){e.exports=n.p+"img/creator1.64e74769.png"},1771:function(e,t,n){var a={"./Layer 13@1X.png":"b003","./creator.png":"9f6f","./creator1.png":"1495","./creator3.png":"4ea5","./default-avatar.jpg":"9e4c","./info-icon2.png":"db19","./info-icon3.png":"9252","./info-icon4.png":"40f7","./logo.png":"cf05","./menu@1X.png":"560b","./online@1X.png":"6d4e","./participant.jpg":"1412","./participant1.jpg":"583b","./participant3.png":"1d2f"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id="1771"},"1d2f":function(e,t,n){e.exports=n.p+"img/participant3.797d295f.png"},2652:function(e,t,n){"use strict";var a=n("a458"),s=n.n(a);s.a},3387:function(e,t,n){},"40f7":function(e,t){e.exports="data:image/png;base64,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"},"4ea5":function(e,t,n){e.exports=n.p+"img/creator3.c78714d1.png"},"560b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAUAgMAAADTvKRLAAAAAXNSR0IB2cksfwAAAAxQTFRFAAAAydbfx9XdydPgsdPouAAAAAR0Uk5TAP/zkiybEmEAAAAaSURBVHicY7A6wHC1gGFqAggBGUAuEBAnCABBJhM5LECbsgAAAABJRU5ErkJggg=="},"583b":function(e,t,n){e.exports=n.p+"img/participant1.ef638a67.jpg"},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),s=n.n(a);s.a},"6d4e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALBAMAAABbgmoVAAAAAXNSR0IB2cksfwAAABVQTFRFAAAAUdrPT9rNUdjQUtnPQtnGTtbRHkXAAgAAAAd0Uk5TAP/befQOWBBMz44AAAA1SURBVHicY2AIVlQOYGBgcxQUdGNgCBEUFBQJYDAEUoIGDIogSoEBRAoKwHhQOahKqD6IKQAqKQe8YeO8DgAAAABJRU5ErkJggg=="},"7f50":function(e,t,n){"use strict";var a=n("3387"),s=n.n(a);s.a},9252:function(e,t,n){e.exports=n.p+"img/info-icon3.7eca8bf1.png"},9594:function(e,t,n){},"9c0c":function(e,t,n){},"9d43":function(e,t,n){"use strict";var a=n("f277"),s=n.n(a);s.a},"9e4c":function(e,t,n){e.exports=n.p+"img/default-avatar.a46d8ad4.jpg"},"9f6f":function(e,t,n){e.exports=n.p+"img/creator.43be934b.png"},a458:function(e,t,n){},b003:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAASCAMAAACDzGUcAAAAAXNSR0IB2cksfwAAAKhQTFRFAAAAAAAAAAAACwsLAwMDAAAAMDAwQkJCJiYmJycnMjIyAgICLCwsEBAQKysrExMTKSkpDw8PKioqGBgYBgYGFxcXDQ0NGxsbODg4JycnHR0dOjo6UVFRFRUVMjIyNjY2FxcXBwcHKioqMDAwS0tLS0tLS0tLGhoaFRUVFBQUICAgIyMjODg4SEhIHBwcKioqTU1NZmZmGRkZEhISLS0tPj4+NTU1ERERFEVSUAAAADh0Uk5TAP/l7f7yFQh2QSD5h90Cx2DmKRL3C9S0TKPANybPYoup6X6jRDoavLebWZp3VTe+ai3Xy49nUqdr4MOzAAAAqUlEQVR4nG2Q5RLCQBCDb7mru7tQxV3e/82g0xZKj/z8ZiebBOUPFtFiQONNii4AQFkLfygA9nSHpgCSy4vqxPejpSxwA3XtLwYp3/SJTCEttl6iSD0nV14c7lXOssxaLwINd0bPaMCOxcZVems7itsKiQf/LgdhYpDe4ZLV7zMNk8m7ox7Pk9mlP24ytiCGfB7TjtQOd828sVHuOfQjBpQsopZcnRqKoReenAphAbutNwAAAABJRU5ErkJggg=="},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("chatMain")],1)},i=[],r=n("9f12"),c=n("8b83"),o=n("c65a"),u=n("c03e"),p=n("9ab4"),l=n("60a3"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"chat",on:{submit:function(t){return t.preventDefault(),e.sendMessage(t)}}},[n("div",{staticClass:"chat__header"},[n("div",{staticClass:"chat__header-chatname"},[e._v(" "+e._s(e.confName)+" "),n("div",{staticClass:"chat__header-online"})]),n("chatMenu",{staticClass:"chat__header-menu",attrs:{participants:e.participants}})],1),n("div",{staticClass:"chat__messages"},[n("chatMessages",{attrs:{messages:e.messages}})],1),n("div",{staticClass:"chat__send"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputMessage,expression:"inputMessage"}],staticClass:"chat__send-input",attrs:{type:"text",placeholder:"Type your message..."},domProps:{value:e.inputMessage},on:{input:function(t){t.target.composing||(e.inputMessage=t.target.value)}}}),n("button",{staticClass:"chat__send-button",on:{click:function(t){return t.preventDefault(),e.sendMessage(e.inputMessage)}}})]),e.isCreationOpen?n("modalConfCreation",{on:{"conf-created":e.onConfCreation}}):e._e(),e.isEnterOpen?n("modalConfEnter",{attrs:{conferences:e.conferences},on:{entered:e.onEntered,"move-creation":e.onCreationOpen}}):e._e()],1)},g=[],A=(n("96cf"),n("89ba")),d=n("53fe"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"el",staticClass:"messages"},e._l(e.messages,(function(t,a){return n("div",{key:a,staticClass:"message",class:[{message_self:t.selfMessage},{message_outer:!t.selfMessage},{message_repeated:e.getIsRepeated(a)}]},[n("div",{staticClass:"message__content"},[n("div",{staticClass:"message__content-login"},[e._v(e._s(t.sender.login))]),n("div",{staticClass:"message__content-string"},[e._v(" "+e._s(t.text)+" ")])]),n("img",{staticClass:"message__avatar",attrs:{src:e.getAvatarUrl(t.sender.avatar)}})])})),0)},m=[],h=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(d["a"])(t,[{key:"getIsRepeated",value:function(e){return 0!==e&&this.messages[e].sender.login===this.messages[e-1].sender.login}},{key:"getAvatarUrl",value:function(e){var t=e||"default-avatar.jpg";return n("1771")("./"+t)}},{key:"scrollToEnd",value:function(){var e=this.$refs.el,t=e.lastChild;t&&t.scrollIntoView({block:"end",behavior:"auto"})}},{key:"updated",value:function(){this.scrollToEnd()}}]),t}(l["c"]);p["a"]([Object(l["b"])({default:[]})],h.prototype,"messages",void 0),h=p["a"]([Object(l["a"])({})],h);var b=h,O=b,C=(n("2652"),n("2877")),y=Object(C["a"])(O,v,m,!1,null,null,null),k=y.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu"},[n("div",{staticClass:"menu__icon"}),n("div",{staticClass:"menu__content"},[n("span",{staticClass:"menu__content-header"},[e._v("Участники:")]),n("div",{staticClass:"menu__content-participants"},e._l(e.participants,(function(t,a){return n("div",{key:a,staticClass:"menu__content-participant"},[n("img",{staticClass:"person-icon",attrs:{src:e.getAvatarUrl(t)}}),e._v(" "+e._s(t.login)+" ")])})),0)])])},j=[],w=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(d["a"])(t,[{key:"getAvatarUrl",value:function(e){var t=e.isCreator?"creator.png":"participant.jpg";return n("1771")("./"+t)}}]),t}(l["c"]);p["a"]([Object(l["b"])()],w.prototype,"participants",void 0),w=p["a"]([Object(l["a"])({})],w);var N=w,x=N,_=(n("9d43"),Object(C["a"])(x,E,j,!1,null,null,null)),U=_.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"entry"},[n("div",{staticClass:"entry-content"},[n("div",{staticClass:"entry-content__caption"},[n("div",{staticClass:"entry-content__caption-paragraph"},[e._v("Задайте название:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.confName,expression:"confName"}],staticClass:"entry-input__text",attrs:{type:"text",autocomplete:"off",required:""},domProps:{value:e.confName},on:{input:function(t){t.target.composing||(e.confName=t.target.value)}}}),n("div",{staticClass:"entry-content__caption-paragraph"},[e._v("Придумайте логин:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],staticClass:"entry-input__text",attrs:{type:"text",autocomplete:"off",required:""},domProps:{value:e.login},on:{input:function(t){t.target.composing||(e.login=t.target.value)}}})]),n("div",{staticClass:"entry-content__submit"},[n("button",{staticClass:"entry-content__submit-btn",on:{click:function(t){return t.preventDefault(),e.modalClosed(t)}}},[e._v(" создать ")])])])])},D=[],M=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.login="",e.confName="",e}return Object(u["a"])(t,e),Object(d["a"])(t,[{key:"modalClosed",value:function(){this.login&&this.confName&&this.$emit("conf-created",{login:this.login,confName:this.confName})}}]),t}(l["c"]);M=p["a"]([l["a"]],M);var S=M,T=S,I=Object(C["a"])(T,R,D,!1,null,null,null),B=I.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"entry"},[n("div",{staticClass:"entry-content"},[n("div",{staticClass:"entry-content__caption"},[n("div",{staticClass:"entry-content__caption-paragraph"},[e._v("Выберите беседу:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.confName,expression:"confName"}],staticClass:"entry-input__select",attrs:{required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.confName=t.target.multiple?n:n[0]}}},e._l(e.conferences,(function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("div",{staticClass:"entry-content__caption-paragraph"},[e._v("Придумайте логин:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],staticClass:"entry-input__text",attrs:{type:"text",autocomplete:"off",required:""},domProps:{value:e.login},on:{input:function(t){t.target.composing||(e.login=t.target.value)}}})]),n("div",{staticClass:"entry-content__submit"},[n("button",{staticClass:"entry-content__submit-btn",on:{click:function(t){return t.preventDefault(),e.modalClosed(t)}}},[e._v(" присоедениться ")]),n("button",{staticClass:"entry-content__submit-btn",on:{click:function(t){return t.preventDefault(),e.moveToCreation(t)}}},[e._v(" создать конфу ")])])])])},G=[],P=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.login="",e.confName="",e}return Object(u["a"])(t,e),Object(d["a"])(t,[{key:"modalClosed",value:function(){this.login&&this.confName&&this.$emit("entered",{login:this.login,confName:this.confName})}},{key:"moveToCreation",value:function(){this.$emit("move-creation")}}]),t}(l["c"]);p["a"]([Object(l["b"])({default:[]})],P.prototype,"conferences",void 0),P=p["a"]([l["a"]],P);var q=P,L=q,J=(n("023f"),Object(C["a"])(L,V,G,!1,null,null,null)),z=J.exports,Q=(n("99af"),n("a434"),n("d3b7"),n("284c")),K=n("8055"),H=n.n(K),Y={CONNECTED:"connected",AUTHENTICATED:"authenticated",PARTICIPANTS_UPDATED:"participants_updated",RECIVE_MESSAGE:"recive_message"},Z={CONNECTION:"connection",AUTHENTICATE:"authenticate",SEND_MESSAGE:"send_message",DISCONNECT:"disconnect",CLIENT_INITIALIZED:"client_initialized"},F=n("bc3a"),X=n.n(F),W=n("b383"),$="https://online-conference-heroku.herokuapp.com",ee=function(){function e(t,n){Object(r["a"])(this,e),this.participant=null,this.messages=[],this.participants=[],this.messages=t,this.participants=n}return Object(d["a"])(e,[{key:"getConferences",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("".concat($,"/conf_list"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createConference",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=W.stringify({confName:n}),e.next=3,X.a.post("".concat($,"/create_conf"),a);case 3:return e.next=5,this.joinConf(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"joinConf",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.socket=H()("".concat($,"/").concat(n)),e.next=3,this.authenticate(this.socket,t,n);case 3:return a=e.sent,s=a.participant,i=a.confName,this.participant=s,this.subscriptionsConfig(this.socket),this.socket.emit(Z.CLIENT_INITIALIZED,!0),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"sendMessage",value:function(e){e&&(this.socket.emit(Z.SEND_MESSAGE,e),this.messages.push({sender:this.participant,text:e,selfMessage:!0}))}},{key:"subscriptionsConfig",value:function(e){var t=this;e.on(Y.PARTICIPANTS_UPDATED,(function(e){console.log({participants:e}),t.onParticipantsUpdated(e)})),e.on(Y.RECIVE_MESSAGE,(function(e){console.log(e),t.onMessageRecive(e)})),e.on(Z.DISCONNECT,(function(e){t.disconnectCallBack()}))}},{key:"authenticate",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.emit(Z.AUTHENTICATE,{participant:n,confName:a}),t.on(Y.AUTHENTICATED,(function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"onParticipantsUpdated",value:function(e){var t;(t=this.participants).splice.apply(t,[0,this.participants.length].concat(Object(Q["a"])(e)))}},{key:"onMessageRecive",value:function(e){this.messages.push(Object.assign({},e,{selfMessage:!1}))}}]),e}(),te=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.isCreationOpen=!1,e.isEnterOpen=!1,e.conferences=[],e.inputMessage="",e.socketService=null,e.confName="",e.messages=[],e.participants=[],e}return Object(u["a"])(t,e),Object(d["a"])(t,[{key:"sendMessage",value:function(e){this.socketService&&this.socketService.sendMessage(e),this.inputMessage=""}},{key:"onConfCreation",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.login,a=t.confName,s={login:n},e.next=4,this.socketService.createConference(s,a);case 4:this.confName=e.sent,this.isCreationOpen=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onEntered",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.login,a=t.confName,s={login:n},e.next=4,this.socketService.joinConf(s,a);case 4:this.confName=e.sent,this.isEnterOpen=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onCreationOpen",value:function(){this.isEnterOpen=!1,this.isCreationOpen=!0}},{key:"onDisconnect",value:function(){console.log("disconnected"),window.location.reload(!1)}},{key:"openModal",value:function(){this.conferences.length?this.isEnterOpen=!0:this.isCreationOpen=!0}},{key:"created",value:function(){var e=this;this.socketService=new ee(this.messages,this.participants),this.socketService.disconnectCallBack=this.onDisconnect,this.socketService.getConferences().then((function(t){e.conferences=t,e.openModal()}))}}]),t}(l["c"]);te=p["a"]([Object(l["a"])({components:{chatMessages:k,chatMenu:U,modalConfCreation:B,modalConfEnter:z}})],te);var ne=te,ae=ne,se=(n("7f50"),Object(C["a"])(ae,f,g,!1,null,null,null)),ie=se.exports,re=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(l["c"]);re=p["a"]([Object(l["a"])({components:{chatMain:ie}})],re);var ce=re,oe=ce,ue=(n("5c0b"),Object(C["a"])(oe,s,i,!1,null,null,null)),pe=ue.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(pe)}}).$mount("#app")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},db19:function(e,t,n){e.exports=n.p+"img/info-icon2.9ba9a896.png"},f277:function(e,t,n){}});
//# sourceMappingURL=app.1c283272.js.map